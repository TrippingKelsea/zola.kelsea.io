{% extends "base.html" %}

{% block title %}{{ section.title }} - {{ config.title }}{% endblock %}

{% block content %}
<div class="terminal-output">
    <div class="terminal-section">
        <span class="prompt-line">$ cat {{ section.title | slugify }}/README.md</span>
        <div class="output-text">
            {% if section.content %}
            {{ section.content | safe }}
            {% endif %}
        </div>
    </div>

    {% if section.pages %}
    <div class="terminal-section">
        <span class="prompt-line">$ ls -lah ./</span>
        <div class="output-text">
            <p>total {{ section.pages | length }} items</p>

            {% for page in section.pages %}
            <div class="file-entry">
                <span class="permissions">-rw-r--r--</span>
                <span class="file-size">{{ page.word_count }}w</span>
                <span class="file-date">{{ page.date | date(format="%Y-%m-%d") }}</span>
                <a href="{{ page.permalink }}" class="file-name">{{ page.title }}</a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    {% if section.subsections %}
    <div class="terminal-section">
        <span class="prompt-line">$ ls -d */</span>
        <div class="output-text">
            {% for subsection_path in section.subsections %}
            {% set subsection = get_section(path=subsection_path) %}
            <div class="file-entry">
                <span class="permissions">drwxr-xr-x</span>
                <span class="file-size">---</span>
                <span class="file-date">---</span>
                <a href="{{ subsection.permalink }}" class="file-name">{{ subsection.title }}/</a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
